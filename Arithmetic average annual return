# The top 10 highest return stocks ï¼ˆ Arithmetic average annual return ï¼‰
ann_mean_Return = formation_return.mean() * 252
momentum_score = ann_mean_Return
top_momentum_stocks = momentum_score.sort_values(ascending=False).head(10)
top_momentum_stocks
top_average_annual_return = top_momentum_stocks.mean()
bottom_momentum_stocks = momentum_score.sort_values(ascending=True).head(10)
bottom_average_annual_return = bottom_momentum_stocks.mean()

# We long the top 10 return stocks, then short the lowest 10 return stocks
long_returns = top_average_annual_return
short_returns = bottom_average_annual_return
strategy_returns_simple_return = round(long_returns - short_returns, 4)
print(f"The annual return of Momentum Strategy is: {strategy_returns_simple_return:.2%}")

# Visualization
labels = ['Top 10 (Long)', 'Bottom 10 (Short)', 'Strategy (Long - Short)']
values = [top_average_annual_return * 100, bottom_average_annual_return * 100, strategy_returns_simple_return * 100]

plt.figure(figsize=(12, 7))
plt.bar(labels, values, color=['teal', 'orange', 'purple'],width=0.5)
plt.ylabel('Annual Return (%)')
plt.title('Momentum Strategy Returns')

for i, v in enumerate(values):
    plt.text(i, v + 0.5, f'{v:.2f}%', ha='center')

plt.show()

# The return of Buy and Hold Strategy
portfolio_daily_returns = formation_return.mean(axis=1)

annualized_return_simple = portfolio_daily_returns.mean() * 252
annualized_return_simple
annualized_return_simple = round(annualized_return_simple, 4)

print(f"ðŸ“† The annual return of Buy and Hold: {annualized_return_simple:.2%}")

# Compared  Momentum & Buy and Hold Strategy ( Arithmetic average annual return )
The_spread_return = strategy_returns_simple_return - annualized_return_simple
print(f"ðŸ“† The annual spread return: {The_spread_return:.2%}")
labels = ['The Buy and Hold return', 'The Momentum return', 'The spread return)']
values = [annualized_return_simple * 100, strategy_returns_simple_return * 100, The_spread_return * 100]

plt.figure(figsize=(12, 7))
plt.bar(labels, values, color=['teal', 'green', 'purple'],width=0.5)
plt.ylabel('Annual Return (%)')
plt.title('The Spread Return')

for i, v in enumerate(values):
    plt.text(i, v + 0.5, f'{v:.2f}%', ha='center')

plt.show()
